<!-- views/edit.ejs -->
<%- include('partials/_header', { pageTitle: 'Edit Item' }) %>

<main>
  <h1>Edit Laptop</h1>
  <!-- PUT request to /items/:id -->
  <form action="/items/<%= item.id %>?_method=PUT" method="POST" class="new-item-form">
    <!-- Condition (dropdown) -->
    <label for="condition">Condition:</label>
    <select id="condition" name="condition" required>
      <option value="">-- Select Condition --</option>
      <option value="New"        <%= item.condition === 'New' ? 'selected' : '' %>>New</option>
      <option value="Like New"   <%= item.condition === 'Like New' ? 'selected' : '' %>>Like New</option>
      <option value="Excellent"  <%= item.condition === 'Excellent' ? 'selected' : '' %>>Excellent</option>
      <option value="Good"       <%= item.condition === 'Good' ? 'selected' : '' %>>Good</option>
      <option value="Fair"       <%= item.condition === 'Fair' ? 'selected' : '' %>>Fair</option>
    </select>

    <!-- Title -->
    <label for="title">Title:</label>
    <input
      type="text"
      id="title"
      name="title"
      value="<%= item.title %>"
      required
    />

    <!-- Price -->
    <label for="price">Price ($):</label>
    <input
      type="number"
      id="price"
      name="price"
      min="1"
      step="0.01"
      value="<%= item.price %>"
      required
    />

    <!-- Details (multi-line) -->
    <label for="details">Details:</label>
    <textarea
      id="details"
      name="details"
      rows="4"
      required
    ><%= item.details %></textarea>

    <!-- Image URL -->
    <label for="image">Image URL (optional to change):</label>
    <input
      type="text"
      id="image"
      name="image"
      placeholder="Leave blank to keep the same image"
    />

    <!-- Submit Button -->
    <button type="submit">Update</button>
  </form>
</main>

<%- include('partials/_footer') %>